wb-rules (2.35.3) stable; urgency=medium

  * Fix invalidation of cached control value

 -- Nikolay Korotkiy <nikolay.korotkiy@wirenboard.com>  Mon, 10 Nov 2025 10:00:00 +0400

wb-rules (2.35.2) stable; urgency=medium

  * RPC: Load: fix error message

 -- Nikolay Korotkiy <nikolay.korotkiy@wirenboard.com>  Thu, 14 Aug 2025 18:00:00 +0400

wb-rules (2.35.1) stable; urgency=medium

  * Don't wait for token on topics cleanup, update wbgo.so library

 -- Nikolay Korotkiy <nikolay.korotkiy@wirenboard.com>  Tue, 12 Aug 2025 12:40:00 +0400

wb-rules (2.35.0) stable; urgency=medium

  * Add RPC method Rename

 -- Nikolay Korotkiy <nikolay.korotkiy@wirenboard.com>  Fri, 08 Aug 2025 12:40:00 +0400

wb-rules (2.34.3) stable; urgency=medium

  * Remove sensitive data from log
  * Add notification module tests

 -- Nikolay Korotkiy <nikolay.korotkiy@wirenboard.com>  Wed, 30 Jul 2025 12:20:00 +0400

wb-rules (2.34.2) stable; urgency=medium

  * Alarms schema: add alarm name validation

 -- Nikolay Korotkiy <nikolay.korotkiy@wirenboard.com>  Tue, 29 Jul 2025 23:00:00 +0400

wb-rules (2.34.1) stable; urgency=medium

  * setInterval/startTicker: warn about too low interval

 -- Nikolay Korotkiy <nikolay.korotkiy@wirenboard.com>  Tue, 29 Jul 2025 12:00:00 +0400

wb-rules (2.34.0) stable; urgency=medium

  * Added a channel to send messages to telegram chat with the bot

 -- Nikolay Korotkiy <nikolay.korotkiy@wirenboard.com>  Tue, 01 Jul 2025 14:00:00 +0400

wb-rules (2.33.0) stable; urgency=medium

  * Fix requests/messages queue size, update wbgo.so library

 -- Nikolay Korotkiy <nikolay.korotkiy@wirenboard.com>  Fri, 27 Jun 2025 18:00:00 +0400

wb-rules (2.32.2) stable; urgency=medium

  * Fix local build, no functional changes

 -- Nikolay Korotkiy <nikolay.korotkiy@wirenboard.com>  Tue, 24 Jun 2025 18:00:00 +0400

wb-rules (2.32.1) stable; urgency=medium

  * Add script error logging

 -- Nikolay Korotkiy <nikolay.korotkiy@wirenboard.com>  Wed, 18 Jun 2025 00:30:00 +0400

wb-rules (2.32.0) stable; urgency=medium

  * Rework metrics

 -- Nikolay Korotkiy <nikolay.korotkiy@wirenboard.com>  Mon, 09 Jun 2025 17:30:00 +0400

wb-rules (2.31.2) stable; urgency=medium

  * Fix cron spec format

 -- Nikolay Korotkiy <nikolay.korotkiy@wirenboard.com>  Tue, 27 May 2025 23:30:00 +0400

wb-rules (2.31.1) stable; urgency=medium

  * Return undefined from addControl in rules

 -- Petr Krasnoshchekov <petr.krasnoshchekov@wirenboard.com>  Tue, 27 May 2025 18:07:36 +0500

wb-rules (2.31.0) stable; urgency=medium

  * Fix rule defining from 'then' function

 -- Nikolay Korotkiy <nikolay.korotkiy@wirenboard.com>  Wed, 21 May 2025 09:30:00 +0400

wb-rules (2.30.0) stable; urgency=medium

  * Fix enableRule/disableRule for cron rules

 -- Nikolay Korotkiy <nikolay.korotkiy@wirenboard.com>  Mon, 19 May 2025 17:30:00 +0400

wb-rules (2.29.0) stable; urgency=medium

  * Delete from persistent storage when writing null or undefined value

 -- Petr Krasnoshchekov <petr.krasnoshchekov@wirenboard.com>  Mon, 28 Apr 2025 10:27:39 +0500

wb-rules (2.28.4) stable; urgency=medium

  * Fix sms sending via 2G/3G modems

 -- Ekaterina Volkova <ekaterina.volkova@wirenboard.com>  Thu, 10 Apr 2025 15:15:27 +0300

wb-rules (2.28.3) stable; urgency=medium

  * document reading of non-existent meta topics

 -- Ekaterina Volkova <ekaterina.volkova@wirenboard.com>  Mon, 07 Apr 2025 09:37:42 +0300

wb-rules (2.28.2) stable; urgency=medium

  * Update wbgo.so library

 -- Nikolay Korotkiy <nikolay.korotkiy@wirenboard.com>  Thu, 03 Apr 2025 16:30:00 +0400

wb-rules (2.28.1) stable; urgency=medium

  * Add alarms reloader
  * Fix lintian

 -- Nikolay Korotkiy <nikolay.korotkiy@wirenboard.com>  Wed, 19 Mar 2025 18:30:00 +0400

wb-rules (2.28.0) stable; urgency=medium

  * Call whenChanged on error change initiated by setError

 -- Petr Krasnoshchekov <petr.krasnoshchekov@wirenboard.com>  Fri, 14 Mar 2025 11:21:16 +0500

wb-rules (2.27.0) stable; urgency=medium

  * Do not clean /meta/error after setting control value

 -- Petr Krasnoshchekov <petr.krasnoshchekov@wirenboard.com>  Fri, 14 Mar 2025 09:15:21 +0500

wb-rules (2.26.0) stable; urgency=medium

  * Reload script on mtime changes

 -- Nikolay Korotkiy <nikolay.korotkiy@wirenboard.com>  Tue, 11 Mar 2025 17:30:00 +0400

wb-rules (2.25.1) stable; urgency=medium

  * Don't clean up MQTT data on unload

 -- Nikolay Korotkiy <nikolay.korotkiy@wirenboard.com>  Mon, 10 Feb 2025 12:50:00 +0400

wb-rules (2.25.0) stable; urgency=medium

  * Upgrade paho.mqtt.golang to 1.5.0

 -- Nikolay Korotkiy <nikolay.korotkiy@wirenboard.com>  Tue, 04 Feb 2025 14:30:00 +0400

wb-rules (2.24.0) stable; urgency=medium

  * Add setError/getError methods to device object

 -- Nikolay Korotkiy <nikolay.korotkiy@wirenboard.com>  Thu, 09 Jan 2025 22:30:00 +0400

wb-rules (2.23.1) stable; urgency=medium

  * Fix alarms schema

 -- Nikolay Korotkiy <nikolay.korotkiy@wirenboard.com>  Thu, 09 Jan 2025 12:40:00 +0400

wb-rules (2.23.0) stable; urgency=medium

  * Clean up MQTT data on unload

 -- Nikolay Korotkiy <nikolay.korotkiy@wirenboard.com>  Thu, 19 Dec 2024 16:20:00 +0400

wb-rules (2.22.4) stable; urgency=medium

  * Check generic value for min/max

 -- Nikolay Korotkiy <nikolay.korotkiy@wirenboard.com>  Wed, 18 Dec 2024 14:51:00 +0400

wb-rules (2.22.3) stable; urgency=medium

  * Support precision

 -- Nikolay Korotkiy <nikolay.korotkiy@wirenboard.com>  Tue, 17 Dec 2024 21:35:00 +0400

wb-rules (2.22.2) stable; urgency=medium

  * Check range value for min/max, update wbgo.so library

 -- Nikolay Korotkiy <nikolay.korotkiy@wirenboard.com>  Mon, 09 Dec 2024 14:30:00 +0400

wb-rules (2.22.1) stable; urgency=medium

  * Fix e-mail encoding in alarms

 -- Petr Krasnoshchekov <petr.krasnoshchekov@wirenboard.com>  Wed, 06 Nov 2024 18:48:31 +0500

wb-rules (2.22.0) stable; urgency=medium

  * Do not trigger whenChanged on first published value, except for pushbutton control type

 -- Petr Krasnoshchekov <petr.krasnoshchekov@wirenboard.com>  Thu, 24 Oct 2024 19:33:59 +0500

wb-rules (2.21.1) stable; urgency=medium

  * Restore rule debugging switch state on restart

 -- Nikolay Korotkiy <nikolay.korotkiy@wirenboard.com>  Thu, 17 Oct 2024 21:35:00 +0400

wb-rules (2.21.0) stable; urgency=medium

  * update wbgo.so library, fix log priority

 -- Nikolay Korotkiy <nikolay.korotkiy@wirenboard.com>  Mon, 14 Oct 2024 18:45:00 +0400

wb-rules (2.20.19) stable; urgency=medium

  * update wbgo.so library, fix device meta cleanup

 -- Nikolay Korotkiy <nikolay.korotkiy@wirenboard.com>  Tue, 17 Sep 2024 13:45:00 +0400

wb-rules (2.20.18) stable; urgency=medium

  * update wbgo.so library, republish retained messages on reconnect to mqtt broker

 -- Nikolay Korotkiy <nikolay.korotkiy@wirenboard.com>  Tue, 17 Sep 2024 13:45:00 +0400

wb-rules (2.20.17) stable; urgency=medium

  * update wbgo.so library, improve stability on Wiren Board 8 in wbgo.so

 -- Nikita Maslov <nikita.maslov@wirenboard.com>  Tue, 10 Sep 2024 11:08:37 +0500

wb-rules (2.20.16) stable; urgency=medium

  * update wbgo.so library

 -- Nikita Maslov <nikita.maslov@wirenboard.com>  Mon, 09 Sep 2024 11:06:57 +0500

wb-rules (2.20.15) stable; urgency=medium

  * Fix parseInt() explicit radix 16 handling for leading zero
  * Fix meta json unmarshaling, update wbgo.so library

 -- Nikolay Korotkiy <nikolay.korotkiy@wirenboard.com>  Mon, 29 Jul 2024 10:50:00 +0400

wb-rules (2.20.14) stable; urgency=medium

  * Alarms schema: disable Edit JSON

 -- Nikolay Korotkiy <nikolay.korotkiy@wirenboard.com>  Thu, 25 Jul 2024 17:00:00 +0400

wb-rules (2.20.13) stable; urgency=medium

  * update wbgo.so library: fix go.sum

 -- Vladimir Romanov <v.romanov@wirenboard.com>  Fri, 12 Jul 2024 14:22:47 +0300

wb-rules (2.20.12) stable; urgency=medium

  * Fix stuck on reboot/stop, when multiple virtual devices update their meta
  * update wbgo.so library
  * bump PahoMQTT dep: v1.4.1 -> v1.4.2

 -- Vladimir Romanov <v.romanov@wirenboard.com>  Fri, 12 Jul 2024 10:42:39 +0300

wb-rules (2.20.11) stable; urgency=medium

  * Fix control meta handling, update wbgo.so library

 -- Nikolay Korotkiy <nikolay.korotkiy@wirenboard.com>  Mon, 24 Jun 2024 14:00:00 +0400

wb-rules (2.20.10) stable; urgency=medium

  * Add missed control types, update wbgo.so library

 -- Nikolay Korotkiy <nikolay.korotkiy@wirenboard.com>  Wed, 08 May 2024 19:00:00 +0400

wb-rules (2.20.9) stable; urgency=medium

  * Add json editor autocomplete for devices

 -- Nikolay Korotkiy <nikolay.korotkiy@wirenboard.com>  Thu, 25 Apr 2024 18:00:00 +0400

wb-rules (2.20.8) stable; urgency=medium

  * Wiren Board 8 support

 -- Nikolay Korotkiy <nikolay.korotkiy@wirenboard.com>  Wed, 24 Apr 2024 15:40:00 +0400

wb-rules (2.20.7) stable; urgency=medium

  * Clear meta on empty json, update wbgo.so library

 -- Nikolay Korotkiy <nikolay.korotkiy@wirenboard.com>  Wed, 17 Apr 2024 11:10:00 +0400

wb-rules (2.20.6) stable; urgency=medium

  * Fix getting units from external devices, update wbgo.so library

 -- Nikolay Korotkiy <nikolay.korotkiy@wirenboard.com>  Fri, 12 Apr 2024 14:15:00 +0400

wb-rules (2.20.5) stable; urgency=medium

  * Don't create meta/units topic
  * Fix getting units from external devices

 -- Nikolay Korotkiy <nikolay.korotkiy@wirenboard.com>  Wed, 10 Apr 2024 09:15:00 +0400

wb-rules (2.20.4) stable; urgency=medium

  * Remove restriction on rule file name

 -- Nikolay Korotkiy <nikolay.korotkiy@wirenboard.com>  Mon, 09 Apr 2024 11:28:00 +0400

wb-rules (2.20.3) stable; urgency=medium

  * Move wbgo.so plugin to /usr/lib, no functional changes

 -- Nikolay Korotkiy <nikolay.korotkiy@wirenboard.com>  Mon, 08 Apr 2024 15:26:00 +0400

wb-rules (2.20.2) stable; urgency=medium

  * Show alarm titles

 -- Nikolay Korotkiy <nikolay.korotkiy@wirenboard.com>  Thu, 28 Mar 2024 17:33:00 +0400

wb-rules (2.20.1) stable; urgency=medium

  * Allow specifying enum titles in virtual device definition

 -- Nikolay Korotkiy <nikolay.korotkiy@wirenboard.com>  Fri, 22 Mar 2024 17:15:00 +0400

wb-rules (2.20.0) stable; urgency=medium

  * Add device title translation support
  * Add setEnumTitles() to js API

 -- Nikolay Korotkiy <nikolay.korotkiy@wirenboard.com>  Wed, 20 Mar 2024 10:15:00 +0400

wb-rules (2.19.0) stable; urgency=medium

  * Add title translation support

 -- Nikolay Korotkiy <nikolay.korotkiy@wirenboard.com>  Wed, 21 Feb 2024 14:04:00 +0400

wb-rules (2.18.11) stable; urgency=medium

  * Add -profile flag to enable profiling with pprof
  * readConfig: support multiline comments
  * Minor memory usage improvement

 -- Nikolay Korotkiy <nikolay.korotkiy@wirenboard.com>  Wed, 21 Feb 2024 14:04:00 +0400

wb-rules (2.18.10) stable; urgency=medium

  * Stop rpc server on quit

 -- Nikolay Korotkiy <nikolay.korotkiy@wirenboard.com>  Wed, 17 Jan 2023 10:34:00 +0400

wb-rules (2.18.9) stable; urgency=medium

  * Add arm64 build, no functional changes

 -- Nikolay Korotkiy <nikolay.korotkiy@wirenboard.com>  Thu, 11 Jan 2024 19:00:00 +0400

wb-rules (2.18.8) stable; urgency=medium

  * Fix timer error message after deferred alarm returns back to normal

 -- Nikita Maslov <nikita.maslov@wirenboard.ru>  Wed, 20 Dec 2023 17:31:38 +0600

wb-rules (2.18.7) stable; urgency=medium

  * Bump golang.org/x/sys, no functional changes

 -- Nikita Maslov <nikita.maslov@wirenboard.ru>  Tue, 28 Nov 2023 15:59:35 +0600

wb-rules (2.18.6) stable; urgency=medium

  * Remove uncomplete contol messages

 -- Ekaterina Volkova <ekaterina.volkova@wirenboard.com>  Tue, 03 Oct 2023 12:05:23 +0300

wb-rules (2.18.5) stable; urgency=medium

  * Replace warning to debug log level of uncomplete control message

 -- Ekaterina Volkova <ekaterina.volkova@wirenboard.ru>  Mon, 31 Jul 2023 10:31:52 +0300

wb-rules (2.18.4) stable; urgency=medium

  * Add homepage to deb package info. No functional changes

 -- Nikolay Korotkiy <nikolay.korotkiy@wirenboard.com>  Tue, 25 Jul 2023 16:34:00 +0400

wb-rules (2.18.3) stable; urgency=medium

  * Format source code. No functional changes

 -- Nikolay Korotkiy <nikolay.korotkiy@wirenboard.com>  Fri, 09 Jun 2023 17:30:00 +0400

wb-rules (2.18.2) stable; urgency=medium

  * Fix alarm.schema.json

 -- Nikolay Korotkiy <nikolay.korotkiy@wirenboard.com>  Fri, 26 May 2023 13:32:00 +0400

wb-rules (2.18.1) stable; urgency=medium

  * esengine: print "file is NOT under source root" messages in debug
  * esengine: add parameters for readConfig to suppress errors
    when file does not exist and it's OK

 -- Nikita Maslov <nikita.maslov@wirenboard.ru>  Mon, 30 Jan 2023 15:26:03 +0600

wb-rules (2.18.0) stable; urgency=medium

  * Send SMS via ModemManager if it is available

 -- Nikita Maslov <nikita.maslov@wirenboard.ru>  Tue, 17 Jan 2023 16:29:04 +0600

wb-rules (2.17.3) stable; urgency=medium

  * Fix alerts schemas issue with email/sms recipient type switching

 -- Aleksandr Kazadaev <aleksandr.kazadaev@wirenboard.com>  Fri, 30 Dec 2022 13:02:00 +0300

wb-rules (2.17.2) stable; urgency=medium

  * Add warnings about unknown spawn() options

 -- Nikolay Korotkiy <nikolay.korotkiy@wirenboard.com>  Tue, 22 Nov 2022 02:13:00 +0400

wb-rules (2.17.1) stable; urgency=medium

  * Add an error message on SetValue for an unexisting control

 -- Nikita Maslov <nikita.maslov@wirenboard.ru>  Mon, 17 Oct 2022 17:15:43 +0600

wb-rules (2.17.0) stable; urgency=medium

  * Adapted for the new wbgo.so library
  * Reducing the number of warnings when removing a device

 -- Roman Kochkin <roman.kochkin@wirenboard.ru>  Tue, 04 Oct 2022 09:22:37 +0400

wb-rules (2.16.0) stable; urgency=medium

  * Fixed behavior that occurred when adding an extra closing curly brace to a script
  * Fixed a bug that occurred if there was no line break after a comment in the last line

 -- Roman Kochkin <roman.kochkin@wirenboard.ru>  Wed, 07 Sep 2022 19:52:58 +0400

wb-rules (2.15.0) stable; urgency=medium

  * Added support for units when declaring a virtual device

 -- Roman Kochkin <roman.kochkin@wirenboard.ru>  Wed, 24 Aug 2022 11:36:35 +0400

wb-rules (2.14.0) stable; urgency=medium

  * add mosquitto UNIX socket connection by default (if it is detected)

 -- Nikita Maslov <nikita.maslov@wirenboard.ru>  Wed, 17 Aug 2022 10:55:31 +0300

wb-rules (2.13.0) stable; urgency=medium

  * Added support for title field in controls

 -- Roman Kochkin <roman.kochkin@wirenboard.ru>  Tue, 19 Jul 2022 23:47:00 +0400

wb-rules (2.12.0) stable; urgency=medium

  * Added support for min field in controls

 -- Roman Kochkin <roman.kochkin@wirenboard.ru>  Fri, 15 Jul 2022 11:41:00 +0400

wb-rules (2.11.4) stable; urgency=medium

  * Fix rare "nil pointer dereference" panics around cron rules

 -- Nikita Maslov <nikita.maslov@wirenboard.ru>  Tue, 28 Jun 2022 02:03:15 +0300

wb-rules (2.11.3) stable; urgency=medium

  * An error causing system reboot is fixed

 -- Petr Krasnoshchekov <petr.krasnoshchekov@wirenboard.ru>  Thu, 14 Apr 2022 13:01:13 +0500

wb-rules (2.11.2) stable; urgency=medium

  * wbgo: fix crashes in support.go file

 -- Nikita Maslov <nikita.maslov@wirenboard.ru>  Thu, 31 Mar 2022 15:17:46 +0300

wb-rules (2.11.1) stable; urgency=medium

  * Updated documentation

 -- Alexandr Degtyarev <a.degtyarev@wirenboard.com>  Wed, 29 Dec 2021 16:07:00 +0400

wb-rules (2.11.0) stable; urgency=medium

  * Add support for Wiren Board 7 (wbgo-related)

 -- Nikita Maslov <nikita.maslov@wirenboard.ru>  Fri, 17 Dec 2021 12:57:37 +0300

wb-rules (2.10.4) stable; urgency=medium

  * Warnings about unknown /meta topics are moved to debug log

 -- Petr Krasnoshchekov <petr.krasnoshchekov@wirenboard.ru>  Wed, 15 Dec 2021 10:01:31 +0500

wb-rules (2.10.3) stable; urgency=medium

  * Alarms schema translation to Russian

 -- Dmitry Vorobjev <d.vorobjev@wirenboard.ru>  Tue, 16 Nov 2021 16:03:32 +0300

wb-rules (2.10.2) stable; urgency=medium

  * Alarms schema title translation to Russian

 -- Dmitry Vorobjev <d.vorobjev@wirenboard.ru>  Tue, 02 Nov 2021 14:27:03 +0300

wb-rules (2.10.1) stable; urgency=medium

  * wbgo: fix sudden disconnects on start with mosquitto 2.0.11

 -- Nikita Maslov <nikita.maslov@wirenboard.ru>  Thu, 28 Oct 2021 13:31:57 +0300

wb-rules (2.10.0) stable; urgency=medium

  * add notify flag to setValue() in new controls API
    which allows to publish values to virtual devices  without triggering rules
  * rule engine now checks converted values instead of raw ones

 -- Nikita Maslov <nikita.maslov@wirenboard.ru>  Thu, 26 Aug 2021 23:17:47 +0300

wb-rules (2.9.0) stable; urgency=medium

  * (internal) wbgo: rename module URLs from contactless to wirenboard

 -- Nikita Maslov <nikita.maslov@wirenboard.ru>  Thu, 26 Aug 2021 17:30:47 +0300

wb-rules (2.8.1) stable; urgency=medium

  * better error handling
  * service: use /etc/default/wb-rules env file

 -- Nikita Maslov <nikita.maslov@wirenboard.ru>  Thu, 22 Jul 2021 19:00:38 +0300

wb-rules (2.8.0) stable; urgency=medium

  * wbgo: switch to upstream paho.mqtt.golang

 -- Nikita Maslov <nikita.maslov@wirenboard.ru>  Wed, 23 Jun 2021 12:09:13 +0300

wb-rules (2.7.2) stable; urgency=medium

  * fix quotes in service unit description (thanks to imposibrus)

 -- Nikita Maslov <nikita.maslov@wirenboard.ru>  Fri, 04 Jun 2021 18:30:35 +0300

wb-rules (2.7.1) stable; urgency=medium

  * fix systemd debhelper scripts
  * use golang 1.15 to build sources

 -- Nikita Maslov <nikita.maslov@wirenboard.ru>  Mon, 31 May 2021 22:39:49 +0300

wb-rules (2.7.0) stable; urgency=medium

  * use systemd service instead of initscript
  * handle 'order' property in defineVirtualDevice
  * wbgo: properly handle empty meta/max and meta/order values

 -- Nikita Maslov <nikita.maslov@wirenboard.ru>  Mon, 31 May 2021 09:45:53 +0300

wb-rules (2.6.5) stable; urgency=medium

  * fix crash on meta read for unexisting control (#36086)

 -- Nikita Maslov <nikita.maslov@wirenboard.ru>  Sun, 30 May 2021 19:45:57 +0300

wb-rules (2.6.4) stable; urgency=medium

  * fixed control write when empty string is forced default value

 -- Nikita Maslov <nikita.maslov@wirenboard.ru>  Mon, 19 Apr 2021 19:25:09 +0300

wb-rules (2.6.3) stable; urgency=high

  * fixed dirty stack in RemoveCallback which led to crashes on garbage
    collection when many temporary objects were created

 -- Nikita Maslov <nikita.maslov@wirenboard.com>  Wed, 24 Feb 2021 16:33:52 +0300

wb-rules (2.6.2) stable; urgency=medium

  * alarms schema for wb-mqtt-homeui is updated to allow correct expectedValue property editing

 -- Petr Krasnoshchekov <petr.krasnoshchekov@wirenboard.ru>  Wed, 27 Jan 2021 11:41:00 +0500

wb-rules (2.6.1) stable; urgency=medium

  * properly initialize rules defined in timer callbacks

 -- Evgeny Boger <boger@contactless.ru>  Tue, 20 Oct 2020 18:21:14 +0300

wb-rules (2.6.0) stable; urgency=medium

  * added ability to subscribe to any mqtt-topic with custom handler

 -- Roman Kubar <r.kubar@wirenboard.ru>  Wed, 22 Jul 2020 01:31:14 +0300

wb-rules (2.5.0) stable; urgency=medium

  * added global function getControl()
  * added device methods:
      getId()
      isVirtual()
  * device method getDeviceId() is deprecated

 -- Roman Kubar <r.kubar@wirenboard.ru>  Fri, 19 Jun 2020 01:43:28 +0300

wb-rules (2.5.0~alpha5) stable; urgency=medium

  * getId() method of control object

 -- Roman Kubar <r.kubar@wirenboard.ru>  Thu, 11 Jun 2020 03:09:33 +0300

wb-rules (2.5.0~alpha4) stable; urgency=medium

  * added controlsList() method to device object

 -- Roman Kubar <r.kubar@wirenboard.ru>  Wed, 10 Jun 2020 00:18:23 +0300

wb-rules (2.5.0~alpha3) stable; urgency=medium

  * added number of functions to manipulate controls:
      isControlExists()
      [set|get]Description()
      [set|get]Type()
      [set|get]Units()
      [set|get]Readonly()
      [set|get]Max()
      [set|get]Error()
      [set|get]Order()

 -- Roman Kubar <r.kubar@wirenboard.ru>  Mon, 01 Jun 2020 04:48:50 +0300

wb-rules (2.5.0~alpha2) stable; urgency=medium

  * removeControl() function available to user scripts

 -- Roman Kubar <r.kubar@wirenboard.ru>  Fri, 29 May 2020 03:22:49 +0300

wb-rules (2.5.0~alpha1) stable; urgency=medium

  * getDevice() function available to user scripts
  * addControl() function available to user scripts

 -- Roman Kubar <r.kubar@wirenboard.ru>  Fri, 29 May 2020 02:49:36 +0300

wb-rules (2.4.0) stable; urgency=medium

  * access to meta-topics

 -- Roman Kubar <r.kubar@wirenboard.ru>  Tue, 19 May 2020 21:34:53 +0300

wb-rules (2.3.3) stable; urgency=medium

  * Fix external controls creation that was inited before wb-rules starts

 -- Roman Kubar <r.kubar@wirenboard.ru>  Wed, 06 May 2020 22:05:57 +0300

wb-rules (2.3.2) stable; urgency=medium

  * Fix panic on clearTimeout inside setTimeout callback

 -- Roman Kubar <r.kubar@wirenboard.ru>  Tue, 05 May 2020 18:53:48 +0300

wb-rules (2.3.1) stable; urgency=medium

  * Fix external controls without readonly flag

 -- Roman Kubar <r.kubar@wirenboard.ru>  Wed, 22 Apr 2020 22:38:44 +0300

wb-rules (2.3.0) stable; urgency=medium

  * Removed writable flag
  * Reworked readonly flag

 -- Roman Kubar <r.kubar@wirenboard.ru>  Mon, 20 Apr 2020 14:46:25 +0300

wb-rules (2.2.4) stable; urgency=medium

  * Fix sticking cache on control values in some cases

 -- Roman Kubar <r.kubar@wirenboard.ru>  Thu, 16 Apr 2020 02:21:48 +0300

wb-rules (2.2.3) stable; urgency=medium

  * Fix writable defaults of switch, pushbutton and range

 -- Roman Kubar <r.kubar@wirenboard.ru>  Tue, 14 Apr 2020 17:09:43 +0300

wb-rules (2.2.2) stable; urgency=medium

  * Anotation that new version breaks old wb-rules-system

 -- Roman Kubar <r.kubar@wirenboard.ru>  Sun, 29 Mar 2020 14:39:00 +0300

wb-rules (2.2.1) stable; urgency=medium

  * Fix writeable flag on creation of virtual device

 -- Roman Kubar <r.kubar@wirenboard.ru>  Mon, 16 Mar 2020 22:53:08 +0300

wb-rules (2.2) stable; urgency=medium

  * release version 2.2

 -- Roman Kubar <r.kubar@wirenboard.ru>  Mon, 25 Nov 2019 22:11:24 +0300

wb-rules (2.2~alpha1) stable; urgency=medium

  * wbgo: ported to wbgong

 -- Roman Kubar <r.kubar@wirenboard.ru>  Sun, 24 Nov 2019 20:58:34 +0300

wb-rules (2.1~alpha3) stable; urgency=medium

  * wbgo: treat controls as writable by default

 -- Nikita Maslov <n.maslov@contactless.ru>  Thu, 14 Dec 2017 15:27:34 +0300

wb-rules (2.1~alpha2) stable; urgency=medium

  * wbgo: device reowning
  * minor fixes

 -- Nikita Maslov <n.maslov@contactless.ru>  Thu, 31 Aug 2017 19:20:04 +0300

wb-rules (2.1~alpha1) stable; urgency=medium

  * Initial commit for new wbgo build

 -- Nikita Maslov <n.maslov@contactless.ru>  Wed, 23 Aug 2017 16:18:02 +0300

wb-rules (2.0~beta3) stable; urgency=medium

  * Fix: hang on boot on high load

 -- Nikita Maslov <n.maslov@contactless.ru>  Wed, 15 Mar 2017 19:00:07 +0300

wb-rules (2.0~beta2) stable; urgency=medium

  * Fix: rule remove and creation bug (file missing)
  * Fix: virtual cells - restore values from MQTT after cleanup

 -- Nikita Maslov <n.maslov@contactless.ru>  Tue, 14 Mar 2017 13:21:14 +0300

wb-rules (2.0~beta1) stable; urgency=medium

  * Modules - initial version
  * True rules isolation
  * Save virtual devices cells to persistent storage and restore them on bootup
  * PersistentStorage support
  * Fix: detect errors in virtual device name

 -- Nikita Maslov <n.maslov@contactless.ru>  Fri, 10 Mar 2017 19:01:46 +0300

wb-rules (1.6.9) stable; urgency=medium

  * running mosquitto is required to start service

 -- Attila Door <a.door@contactless.ru>  Mon, 26 Mar 2018 11:54:47 +0300

wb-rules (1.6.8) stable; urgency=medium

  * load_alarms.js moved to /usr/share/wb-rules
  * alarms schema is fixed

 -- Evgeny Boger <boger@contactless.ru>  Fri, 19 Aug 2016 17:54:47 +0300

wb-rules (1.6.7) stable; urgency=medium

  * adds support for delays to alarm engine:
      alarmDelayMs: if set, the alarm condition must be violated for
          the specified time interval (in ms) for the alarm to be triggered
      noAlarmDelayMs: if set, the alarm condition must be met for the
          specified time interval (in ms) for the alarm to be cleared

 -- Evgeny Boger <boger@contactless.ru>  Tue, 24 May 2016 20:27:21 +0300

wb-rules (1.6.6) stable; urgency=medium

  * editor: allow spaces in filenames

 -- Ivan Shvedunov <ivan4th@gmail.com>  Wed, 18 May 2016 22:01:14 +0300

wb-rules (1.6.5) stable; urgency=medium

  * Fix MQTT disconnection problem
  * Support dev["device/control"] notation
  * Per-file rule name isolation
  * Unique timer ids

 -- Ivan Shvedunov <ivan4th@gmail.com>  Tue, 17 May 2016 04:11:59 +0300

wb-rules (1.6.4) stable; urgency=medium

  * Performance improvements due to patched MQTT driver
  * Fix package build

 -- Ivan Shvedunov <ivan4th@gmail.com>  Wed, 27 Apr 2016 02:03:40 +0300

wb-rules (1.6.3) stable; urgency=medium

  * fix deps

 -- Ivan Shvedunov <ivan4th@gmail.com>  Thu, 25 Feb 2016 05:37:36 +0300

wb-rules (1.6.2) stable; urgency=medium

  * added String.prototype.xformat()
  * updated alarms to use String.prototype.xformat()

 -- Ivan Shvedunov <ivan4th@gmail.com>  Sat, 13 Feb 2016 09:38:44 +0300

wb-rules (1.6.1) stable; urgency=medium

  * relocates schemas

 -- Evgeny Boger <boger@contactless.ru>  Tue, 09 Feb 2016 15:49:08 +0300

wb-rules (1.6) stable; urgency=medium

   * Alarms
   * Misc bugfixes

 -- Ivan Shvedunov <ivan4th@gmail.com>  Mon, 28 Dec 2015 07:12:59 +0300

wb-rules (1.5) stable; urgency=medium

  * Rule editor support
  * MQTT Logging
  * Fix MQTT reconnection

 -- Ivan Shvedunov <ivan4th@gmail.com>  Mon, 31 Aug 2015 23:14:14 +0300

wb-rules (1.4) stable; urgency=medium

  * Fix 'dev' semantics, other bugfixes

 -- Ivan Shvedunov <ivan4th@gmail.com>  Sat, 06 Jun 2015 22:59:43 +0300

wb-rules (1.3) stable; urgency=medium

  * Automatic rule reloading

 -- Ivan Shvedunov <ivan4th@gmail.com>  Mon, 25 May 2015 05:51:20 +0300

wb-rules (1.2) stable; urgency=medium

  * BREAKING CHANGES: add whenChanged directive

 -- Evgeny Boger <boger@contactless.ru>  Mon, 20 Apr 2015 00:43:35 +0300

wb-rules (1.1) wheezy; urgency=medium

  *  setInterval/setTimeout
  *  support for executing shell commands from rules
  *  onCellChange
  *  syslog support
  *  dependency-based optimization

 -- Evgeny Boger <boger@contactless.ru>  Mon, 30 Mar 2015 18:54:12 +0300

wb-rules (1.0) wheezy; urgency=low

  * Initial package version

 -- Ivan Shvedunov <ivan4th@gmail.com>  Tue, 03 Feb 2015 17:20:00 +0300
